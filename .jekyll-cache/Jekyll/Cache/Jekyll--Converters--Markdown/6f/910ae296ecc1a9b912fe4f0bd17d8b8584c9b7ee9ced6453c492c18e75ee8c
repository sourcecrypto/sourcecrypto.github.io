I"R°<p><strong>A Primer - Daniel Hardman, Evernym</strong></p>

<ul>
  <li><a href="https://hgf18.sched.com/event/G8sN/microledgers-and-edge-chains-a-primer-daniel-hardman-evernym">Daniel Hardman, Chief Architect - Evernym</a>
    <blockquote>
      <p>Daniel Hardman has a quarter century of experience in enterprise software. As a technical director or chief architect, heâ€™s led engineering teams at small startups, an incubator, and a continent-spanning business unit at a Fortune 500 company. He founded a dot com a few years back, serving as CEO and later CTO before selling the business. Daniel designed and personally coded complex scheduling software that runs the biggest supercomputers on the planet. He also worked on big data systems that use natural language processing and machine learning/AI to impute reputation to the entire observable internet. He is a member of Infraguard, has training in cybersecurity, and has spoken at industry conferences such as RSA. Daniel has an MBA plus a masterâ€™s degree in computational linguistics. He holds numerous patents and is a prolific blogger.</p>
    </blockquote>
  </li>
</ul>

<h2 id="video">Video</h2>

<div class="video-responsive">
  <iframe width="853" height="505" src="https://www.youtube.com/embed/iK5vd7-b1zA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</div>

<h2 id="transcript">Transcript</h2>

<p>Okay, I think weâ€™ll go ahead and get started. There are likely to be people trickling in, if theyâ€™re like I am. If I didnâ€™t have to be here speaking I would take my time getting in the next session after lunch feeling a little bit sluggishâ€¦ but anyway, theyâ€™ll come in and and weâ€™ll already be in the presentation.</p>

<p>My name is Daniel Hardman, hopefully youâ€™ve if you read about this session you might know a little bit about my background. I work with Hyperledger Indy project, mostly. Iâ€™m a maintainer there, and I also work for, well so I have a day job with Evernymâ€¦ and then a side gig, where I work on the technical governance part of the Sovrin Foundation, which is closely connected to the Indy project.</p>

<p>Anyway, today Iâ€™m going to talk about some concepts that have been marinating in my mind and in the minds of some people that I work with for quite a while. Not all these ideas are originally mine I want to give credit where credit is due.</p>

<p>Lots of other smart people have been talking and thinking about this as well Iâ€™m just a spokesman for a lot of other people, and hopefully the title intrigued you a little bit.</p>

<p>Microledgerâ€™s and edge-chains: Iâ€™m going to demystify that, and when you walk away I hope youâ€™re gonna think of this as not so much a super technical session that youâ€™ve been to but instead a session that kind of has some intriguing ideas for you to think about later in whatever youâ€™re doing.</p>

<h2 id="a-personal-arc">A Personal Arc</h2>

<p><img src="https://i.imgur.com/5aXEDkg.png" /></p>

<p>Iâ€™d like to start by taking you on a little bit of a personal journey. I started working in blockchain two and a half years ago, and when I first became aware of the basic concepts of how blockchain worked and so forth I became really excited about how blockchain had solved a bunch of problems</p>

<p>and how I was going to go conquer the world with all this new technology and it was awesome and that was a I lasted in that phase of my acquaintance with blockchain for, I donâ€™t know, several months but I start to encounter practical problems with some of the blockchain stuff I was doing.</p>

<p>and I hope as I describe the rest of this arc youâ€™ll smile a little bit to yourselves, and say, yeah Iâ€™ve kind of been through the same thing.</p>

<p>in a way this is kind of like the Gartner hype cycle you know thereâ€™s the the spike of excitement and then the trough of disillusionment.</p>

<p><img src="https://i.imgur.com/BsTgEd0.png" /></p>

<p>I went through learning about some of the performance and scaling issues that we had to deal with, and some of the complexity.</p>

<p>and then I started to realize that putting data on the blockchain had certain repercussions that I didnâ€™t always want to deal with, and that there needed to be some very careful thought about how we encrypted data.</p>

<p><img src="https://i.imgur.com/kdoyUEq.png" /></p>

<p>and then I realized encrypting it wasnâ€™t enough, it just plain shouldnâ€™t be there at all. and so hopefully you guys are recognizing these kinds of patterns in your own thinking here and then I got into the whole all regulatory compliance of GDPR thing and gee this is getting harder and
harder.</p>

<p><img src="https://i.imgur.com/V5cyLYb.png" /></p>

<p>Then I and several of my companions discovered this notion of microledgers, and we feel like it was kind of an aha moment for us. So Iâ€™ll explain what microledgers are and I think youâ€™ll see how thatâ€™s relevant to this arc when Iâ€™m done.</p>

<p>Let me just point out that that same kind of arc that I just described in my own thinking weâ€™re seeing unfold in lots of different ways in the whole blockchain space.</p>

<p><img src="https://i.imgur.com/oVC0WwF.png" /></p>

<p>All of the things on this list here are examples of projects where somebody has thought hard about the original blockchain paradigm, and tweaked something in an interesting way because
of that same arc, and you know the tweaks are different.</p>

<ul>
  <li>plasma is about taking smart contracts off the blockchain</li>
  <li>triple signed receipts is about preserving confidence in data but not having to keep a full history even though you have a strong proof that youâ€™re at the right state anyway</li>
</ul>

<p>they all different things up there and if you donâ€™t know about all those, I didnâ€™t know about all of them either until I went and researched this talk, and I was looking for patterns.</p>

<p>I knew about some of them and I found some others there but the point is that I think the whole industry is going through a maturation phase where weâ€™re realizing that thereâ€™s certain aspects of what blockchain can do that we love, and thereâ€™s other aspects of what blockchain gives us that we donâ€™t love so much and weâ€™re trying to kind of wrestle against those constraints</p>

<p><img src="https://i.imgur.com/ZBiVQ0J.png" /></p>

<p>These are the two things that I think these arcs all have in common, mine and and the things on the previous slide:  theyâ€™re all trying to do less with the central big blockchain in some creative way so that they can keep the special value out of the blockchain but not have some of its downsides.</p>

<h2 id="blockchain-the-new-centralization">Blockchainâ€” the new centralization</h2>

<p>I want to just point out something I went and looked just for fun I went and looked up architecture diagrams with Google. I was looking for old client-server architecture diagrams okay and these are just three that I picked at random out of the Google image search results list</p>

<p><img src="https://i.imgur.com/yYUdvNr.png" /></p>

<p>you see that client-server is kind of this old paradigm where we have this notion of a centralized thing, and client-server equals bad, right?</p>

<p>weâ€™ve been down that road we donâ€™t like that anymore, but hereâ€™s whatâ€™s interesting I also went and searched for some architecture diagrams about blockchain and some blockchain supposed to be highly decentralized and lo and behold there are lots and lots of evidence in these diagrams that blockchain is actually it just almost the exact same thing</p>

<p><img src="https://i.imgur.com/py6olR5.png" /></p>

<p>now thereâ€™s some things about blockchain that are different Iâ€™m not arguing that theyâ€™re identical but the point is there is this phenomenon sometimes that blockchain has been used in a way thatâ€™s far more centralized than we like to admit yes there are nodes that spread the load around and yes the nodes create this notion of diverse or I mean diffuse trust and yet all of those nodes can be treated as one bundle in the middle</p>

<p>and in fact in a lot of architecture diagrams that you see in presentations at this conference and any other conference you will see a little graphic that represents the blockchain and a bunch of arrows coming to it from all over the place and whatâ€™s that thatâ€™s centralization</p>

<h2 id="where-blockchain-is-needed-or-not">Where Blockchain is Needed (or Not)</h2>

<p><img src="https://i.imgur.com/ugjLkS9.png" /></p>

<p>so we donâ€™t necessarily need the blockchain for everything that we think we need it for the Vitalik, back in April, Iâ€™ll let you read that quote there, well actually Iâ€™m going to read it because itâ€™s such a good one:</p>

<blockquote>
  <p>Blockchains.. are a far less efficient computer and database than technologies that have existed for over 40 yearsâ€¦ efficiency is not what block chains are built for - <a href="https://www.youtube.com/watch?v=jJt3yag96fU">Vitalik Buterin, April 2018</a></p>
</blockquote>

<p>if you actually go and look up that quote he does a comparison of how much it costs to do certain kinds of computations on Ethereum versus AWS, and itâ€™s about a million to one difference in efficiency.</p>

<blockquote>
  <p>â€œLetâ€™s say you and I, we are happy to do some transactions with each other.. We donâ€™t really need to use the blockchain unless we disagree with each otherâ€¦ Why would you need the mediator if you are actually in accordanceâ€¦?â€ - Arther Gervais (Founder of Liquidity Netowrk), June 2018</p>
</blockquote>

<p>Then founder of Liquidity Network, in June. This is a really good quote: - bottom line is this notion, you know what? Why would you need a mediator if youâ€™re actually agreeing with each other?</p>

<p>now thereâ€™s an answer to that question but thereâ€™s also, that question exposes some interesting things to think about.</p>

<p>I think smart people in the industry are starting to question some basic assumptions.</p>

<p><img src="https://i.imgur.com/ZfhYNAD.png" /></p>

<p>hereâ€™s my picture of an architecture thatâ€™s centralized in blockchain oriented you got the blockchain in the middle here and you got the arrows coming to it right this is how I was thinking about my own particular problem which was the identity management relationship management problem thatâ€™s at the core of identity when I first came into this world and if you see,</p>

<p>weâ€™ve got two parties that each have a relationship and want to trust each other we have  Alice we have Bob and Alice needs to know some things about her view of this relationship and she also needs to know some things about Bobâ€™s view of the relationship okay and these two views of the world</p>

<p>whatâ€™s symmetrical and complimentary but theyâ€™re using the blockchain in the middle as the trusted intermediary and like I said this view of the world sort of works but it chafed on me and it became increasingly uncomfortable as I learned some of the drawbacks and challenges to it</p>

<h2 id="microledgers">Microledgers</h2>

<p><img src="https://i.imgur.com/kX93eTU.png" /></p>

<p>Hereâ€™s what I evolved to, and this is what I want to talk to you about, is the microledger notion. In this notion you still have a blockchain, and blockchain does have relevance itâ€™s highly relevant, but itâ€™s not the main mediator of the relationship between Alice and Bob.</p>

<p>Alice and Bob talk to each other directly and then they have this kind of back-channel thing that they can use to interact with the blockchain to the extent that they need to and Iâ€™m gonna talk about what they really need the blockchain for but itâ€™s not as much as we thought at least as much as I thought to begin with</p>

<p>so when you have this kind of a relationship what you have is two parties that are kind of at the edge of the old diagram, instead of the thing thatâ€™s in the middle, you have the things that are at the edges okay and these things at the edge are talking to each other. this is how I get the concept of an edge chain</p>

<p>thatâ€™s where that word in the title of the presentation comes from, is the notion that you can have some of the same characteristics of a blockchain, you can have high trust and tamper resistance, and diffuse patterns of communication and so forth. but, you donâ€™t have the blockchain sitting in the middle of it. itâ€™s all happening out at the edges</p>

<p><img src="https://i.imgur.com/c0mtJW0.png" /></p>

<p>okay so this evolves even further: if you have this person Alice having relationships with multiple people, she
continues to have these lateral side relationships. she doesnâ€™t have them through the blockchain.</p>

<p>now you might be saying well wait a minute if you take the blockchain and all those big arrows out what is it even useful for?</p>

<h2 id="how-blockchain-is-still-relevant">How Blockchain is Still Relevant</h2>

<p><img src="https://i.imgur.com/uJ1Kkwq.png" /></p>

<p>In my case itâ€™s useful for certain problems that require external trust. For example, there has to be a place where I can announce that a credential, upon which identity is based, has been revoked.  The world needs to test for that condition when theyâ€™re seeing credentials presented.</p>

<p>I know that thereâ€™s people out here who arenâ€™t in the identity space. I think thereâ€™s analogs to this in in non-identity world too.</p>

<p>Thereâ€™s certain things that you need to consult the blockchain for. The main things that arenâ€™t on this list are things like:</p>
<ul>
  <li>talking to each other</li>
  <li>storing things</li>
  <li>doing computation</li>
  <li>interacting
None of that stuff has to go through smart contracts or any of that. It just has to have a few very small things that make this possible.</li>
</ul>

<p>Besides revoking credentials, in the identity space:</p>
<ul>
  <li>You have to be able to revoke a device: If you leave your phone in on the backseat of an uber you need to be able to quickly say donâ€™t let anybody use that phone to impersonate me.</li>
  <li>you need to be able to discover parties that are intending to be public</li>
  <li>you need a secret rendezvous spot: so if you think of secret agents that you know theyâ€™re heading off into enemy territory, and they agree that if if theyâ€™re not back by such-and-such a time, then theyâ€™re going to meet in the square at midnight, or whateverâ€¦
You can use a blockchain kind of like that: agree that weâ€™ll rendezvous on the blockchain if we lose track of one another, or have to repair a relationship and we canâ€™t do it by direct conversation.</li>
</ul>

<p>It turns out that Merkel proofs of state integrity between these two parties can be relevant.</p>

<p>This last one is where I get the name micro ledger for this talk. That is, the way that these two parties interact with each other, has to have some characteristics of proveability and tamper-resistance even though itâ€™s not on the main blockchain.</p>

<p>You can do that by doing some very simple (well itâ€™s not very simpleâ€¦ itâ€™s simple compared to other stuff) crypto on your local hard drive..</p>

<p>When you interact with the other, passing them Merkel proof-of-state and having them check it against what they have.</p>

<p>you end up knowing with confidence that both of you have the same thing, and and you havenâ€™t drifted or misinterpreted one another.</p>

<p>You end up basically having a tiny little ledger on your machine for the relationship. Alice would have one for the relationship she has with Bob. Iâ€™m talking tiny, Iâ€™m talking 5k 10k little tiny files.</p>

<p>Theyâ€™re not massive, they donâ€™t last necessarily forever, they donâ€™t store any significant amounts of information, but they just have an orderly sequence of hashes that show how state has evolved thatâ€™s the micro ledger concept.</p>

<h2 id="app-centralization-continuum">App Centralization Continuum</h2>

<p><img src="https://i.imgur.com/lnKUizp.png" /></p>

<p>After we started playing with this idea I started to see things a little bit different this is my journey again but I thought instead of it being kind of a time sequence I saw it as a continuum of centralization and I really think thatâ€™s where my mental journey took me is I started out thinking blockchain was cool and Iâ€™m going to be decentralized but I wasnâ€™t really very decentralized in my thinking and took me a long time to get there</p>

<p>you know I started over with â€œput it all in the blockchainâ€ which isnâ€™t so far away from traditional client-server</p>

<p>then you start seeing people talking about sub chains and side chains and things like that thatâ€™s an example of moving farther to the right on the continuum</p>

<p>then you hear people talking about well just anchor it on the blockchain now weâ€™re starting to get pretty far over to the towards the right if you go all the way over to the right you have a pure edge chain where you really donâ€™t need the blockchain at all.</p>

<p>I donâ€™t think Iâ€™m gonna write any software that looks completely at that end of the continuum. I think the blockchain introduces some characteristics of trust that I really need but I think I can get pretty far over here get all the benefits from blockchain that I really care about but not have hardly any of the drawbacks or complications and the only price is complexity darn it</p>

<p>okay so I put up here on this picture, also I have gaps right here and edge chain protocols. when I first started exploring this notion of the edge chain, I was calling the thing that we were building a dApp. because itâ€™s a decentralized app, of course. but I realized that what the industry is calling a dApp is actually pretty far over to this side because itâ€™s typically running everything through a smart contract that does centralize computation.</p>

<p>there are dApps that arenâ€™t that way, so the DAP thing moves over towards the right. There are some gaps that get maybe almost this far, but you you can take it all the way over here, and I think if you go way over to the right side itâ€™s not really fair to call that a dApp because itâ€™s pretty different from what the industry thinks a dApp is.</p>

<h2 id="teleomergent---more-than-a-decentralized-app">Teleomergent - More than a decentralized app</h2>

<p><img src="https://i.imgur.com/1E6jCjZ.png" /></p>

<p>Iâ€™m gonna give you some examples here in just a minute. Just for kicks, Iâ€™m gonna introduce a new word to you, because this is why Iâ€™m excited about the right end of that continuum. I think that the things on the right end of that continuum have this characteristic.</p>

<p>this is a big word, you know, a $24.00 word. but itâ€™s â€œtelly-o-mergent.â€ If youâ€™re familiar with the word <a href="https://www.merriam-webster.com/dictionary/teleology">teleology</a> or <a href="https://www.merriam-webster.com/dictionary/teleonomy">telonomy</a>,  this has the notion that you have order from chaos.</p>

<p>Okay? but, itâ€™s not order thatâ€™s decreed by some central party itâ€™s order that arises spontaneously. Teleonomy is used in discussions about evolution and biology and how a very complex ecosystem can manifest really sophisticated patterns of behavior even though thereâ€™s not anybody out there telling the Zebras which direction to run when the Lions chase them</p>

<p>so you may have also heard the word chaotic before and you may have run into the notion of Adam Smithâ€™s invisible hand in the economy itâ€™s the notion that you give a bunch of independent actors the right incentives and lo and behold the free market causes an interesting dynamic to emerge thatâ€™s useful</p>

<p>and thatâ€™s what I think is the true characteristic at the far right side is that you give independent agents the ability to interact and these agents find useful ways to interact according to a protocol.</p>

<h2 id="dapps-vs-edgechain-protocols">Dapps vs Edgechain Protocols</h2>

<p>this is just a little compare and contrast I think Iâ€™m gonna skip over this suffice it to say that daps and edge chains have a lot in common but I think thereâ€™s some interesting differences</p>

<p><img src="https://i.imgur.com/cVg6gFH.png" /></p>

<p>and Iâ€™ll maybe during Q&amp;A; we can come back to this slide if you have questions about it, but let me now actually give you some examples of what Iâ€™m talking about.</p>

<h2 id="defining-an-edgechain-protocol">Defining an Edgechain Protocol</h2>

<p><img src="https://i.imgur.com/vIDt6iO.png" /></p>

<p>When you define an edge chain protocol you have to answer these four questions:</p>

<ul>
  <li>what are the roles in my protocol?</li>
  <li>what types of messages do we exchange?</li>
  <li>what stage or sequencing rules apply?</li>
  <li>and how our trust and incentives managed?</li>
</ul>

<h2 id="a-familiar-examplebuying-a-house">A Familiar Exampleâ€”Buying a House</h2>

<p><img src="https://i.imgur.com/XEpCvty.png" /></p>

<p>so hereâ€™s a really familiar example, okay? no tech involved. how do you buy a house? What are the roles in buying a house?</p>

<p>well you have a buyer and a seller, and the realtor for the buyer and the realtor for the seller. you have a home inspector, you have a title company.</p>

<p>these are roles, and by the way, buying a house is a protocol. You canâ€™t just go order a title, insurance, on some arbitrary home, because that would be out of order for the, itâ€™s not the sequence.</p>

<p>You have to start by doing step one and then you go to step two and then you go to step three right and the parties in this interaction have responsibilities they can do certain things, and not other things.</p>

<p>The kinds of messages that get exchanged in this protocol: we have an offer to buy, a counter-offer, an acceptance or rejection, a home report, a title search. These are messages.</p>

<p>What are the state rules that apply? well this is an example state machine I drew. You start by negotiating and you can go round and round in circles in negotiating, eventually you exit the negotiating phase. youâ€™re in the preparing phase where you order a title search and a home report and all these things and anyway you end up consummating the deal or not consummating it</p>

<p>That is an edge protocol.</p>

<p>Why is it an edge protocol?</p>

<p>Thereâ€™s no blockchain involved, right? itâ€™s people out at the edge.</p>

<p>Thereâ€™s a hundred thousand things like this, ordering a hamburger is a protocol. You canâ€™t just walk up to somebody nd say, â€œhereâ€™s seven twenty five.â€ You have to walk up to him and say, â€œI want number three on the menu,â€ then give him $7.25 after they ask you â€œis that to go or not?â€ â€œto goâ€ right? 
Thereâ€™s this whole protocol involved in that, that we all know. The reason Iâ€™m harping on this is because all kinds of business problems are solved by protocols all the time, and in fact, theyâ€™re mostly edge protocols.</p>

<p>Thatâ€™s a cool thing if you can just hook them up to blockchain for just the parts that you need them for, and not all of it. The weight of what youâ€™re building goes way down.</p>

<h2 id="trust-ping-protocol">Trust Ping Protocol</h2>

<p><img src="https://i.imgur.com/pUnUIiD.png" /></p>

<p>Hereâ€™s a simple edge protocol thatâ€™s techy. this one is relevant to the identity space. This is the trust ping protocol, and in Indy there is a HIPE (which is like an RFC) about how you ping another person.</p>

<p>You have their DID, for them thatâ€™s their identifier, and given that identifier you should be able to reach out and talk to that person.</p>

<p>So how do you do it? According to the whole Indy technology should be able to do it no matter what transport youâ€™re used to send messages whether itâ€™s HTTP or mail or Bluetooth or whatever.</p>

<p>You should know some things when you engage in this trust ping about whether the person on the other side is trustworthy and how much trust might have been eroded by the kind of mechanisms you used in between you.</p>

<p>Thereâ€™s a HIPE about that, you can see the roles, the pinger and the pingee; and the message types.</p>

<p>let me give you a quick demo of this protocol. Iâ€™m gonna start up an indie agent, and that agent is going to be listening on email, and Iâ€™m going to talk to it by email, and Iâ€™m gonna use the trust ping protocol to to interact with it.</p>

<p><img src="https://i.imgur.com/SA01z4J.png" /></p>

<p>This is the <a href="https://github.com/hyperledger/indy-hipe/pull/67">trust ping protocol documentation</a>, and the trust ping documentation says that if I want to ping somebody this is the kind of JSON message I need to send it.</p>

<p>So, Iâ€™m gonna send it one. Letâ€™s go over here to my email, and Iâ€™ll bring up my little trust ping. nothing up my sleeve. hereâ€™s the the JSON that Iâ€™m sending, which is just a direct copy and paste out of this HIPE hereâ€¦ so thatâ€™s the thatâ€™s the stuff that I sent.</p>

<p>and letâ€™s seeâ€¦ message was sent. thatâ€™s good. now what weâ€™ve got to see is if the message is going to come backâ€¦ there we go.</p>

<p><img src="https://i.imgur.com/qe7MocA.png" /></p>

<p>so the agent on the other side pinged me back and letâ€™s see what it sent me: it sent me an aim style message.</p>

<p>This is the JSON that I got back, it says â€œhiâ€ from Indy agent. So, Iâ€™ve just engaged in a protocol.</p>

<p>Now what does blockchain add to this? I could do this entirely without blockchain, but thereâ€™s some things I wouldnâ€™t have: I wouldnâ€™t have confidence in the other sender. Somebody could sit in between me in this protocol and mess with my mind, right? be a man-in-the-middle.</p>

<p>So most of the protocol is not modified, but by adding a little bit of blockchain pixie dust, Iâ€™ll call it, I can increase the trust behind this protocol.</p>

<p>Thatâ€™s the kind of thing that Iâ€™m seeing over and over again as I get my head wrapped around this paradigm is you start with a paradigm thatâ€™s really not very blockchain heavy, and then you say â€œwhat are the things thatâ€™s wonderful about blockchain, that I need to add into this? and how can I do it as light as possible?â€</p>

<h2 id="tic-tac-toe">Tic Tac Toe</h2>

<p><img src="https://i.imgur.com/Ym9zesW.png" /></p>

<p>okay so on to the next thingâ€¦ here. Tic Tac Toe. We could also play tic-tac-toe. Iâ€™m gonna wait and see if I have enough time. Iâ€™ll do a demo of tic-tac-toe if you feel like it later. but anyway I have a demo of that if you want to. this one was not thereâ€™s no blockchain goodness on this this is all the way to the complete right side is being a pure hedge protocol because you donâ€™t need a blockchain to play tic-tac-toe okay.</p>

<h2 id="did-method-for-peer-private-pairwise-dids">DID method for peer (private pairwise) DIDs</h2>

<p><img src="https://i.imgur.com/T3nCl47.png" /></p>

<p>This is a more serious one. What if you want to manage a relationship? Alice and Bob live across the world, they use complicated technologies. Each of them has different technologies. One of them has a laptop, and a cell phone; and the other one has a desktop computer at work, and two cell phones, and something in the cloud.</p>

<p>They want to talk to each other and thereâ€™s different pieces of software running on all these different things at different version levels and all this kind of stuff.</p>

<p>How does Alice tell Bob: â€œyou shouldnâ€™t accept messages anymore from my old cell phone that I just sent to the recyclingâ€?</p>

<p>I think they told me they were gonna wipe the hard drive on it but I just donâ€™t trust Iâ€™m gonna tell Bob not to do that. How does Alice say, â€œI upgraded my own world here, and Iâ€™ve got a new device, and now if I send messages from that device you
should trust them.â€</p>

<p>how does Alice say Iâ€™m gonna rotate my keys? all of these are concerns of managing a relationship, and you need a protocol to manage a relationshipâ€¦ and guess what? itâ€™s mostly an edge protocol.</p>

<h2 id="peer-did-method-spec">Peer DID Method Spec</h2>

<p>This is a more serious one that has pretty high stakes. Iâ€™ve been working on a method to describe how DIDs can be created, and the DID docs associated with those DIDs can be shared.</p>

<p>You can see the the roles here are the participants in the relationship and thereâ€™s some message types that are described here thereâ€™s actually a <a href="https://dhh1128.github.io/peer-did-method-spec/index.html">DID method spec draft</a> and Iâ€™ll show that to you really briefly here and you can go look it up yourself later if you want to</p>

<p><a href="https://dhh1128.github.io/peer-did-method-spec/index.html"><img src="https://imgur.com/QlhWEmfl.png" /></a></p>

<p>Iâ€™ll give you the URL and you can go read it, but thereâ€™s this whole spec behind this, and this is what has caused, I think, the most ruminating on the concept of a microledgerâ€¦ because the microledger as a persistence mechanism could provide high trust to back the did method that Iâ€™m mentioning.</p>

<h2 id="megaphone-protocol">Megaphone Protocol</h2>

<p>Let me go on to another one thatâ€™s maybe a little bit more interesting so this is just an imaginary one but I think Iâ€™d love if somebody in the audience wants to build this Iâ€™d be super excited and I would buy your app.</p>

<p><img src="https://i.imgur.com/wzji3sc.png" /></p>

<p>A megaphone protocol, what Iâ€™d like is something where if Iâ€™m sitting on the beach in Indonesia and a tsunami happensâ€¦ I can grab my phone and push a button and say â€œrun a tsunamis comingâ€ and my phone contacts all the phones all around the resort where Iâ€™m staying which in turn contact all the phoneâ€™s a mile inland and everybody starts running not just the people who can see the wave. Would that be cool?</p>

<p>I want basically a virtual megaphone, but hereâ€™s a â€œwhy do I need blockchain?â€ thereâ€™s a really good answer to this, I canâ€™t build this right now, because if everybody had a real megaphone in real life youâ€™d have problems with people using it irresponsibly, wouldnâ€™t you?</p>

<p>So thereâ€™s a trust problem, I can use blockchain to require people to put stake, or put their identity in escrow against their responsible behavior. So that a person can say, when itâ€™s a life-or-death situation, â€œI need an EpiPen right now!â€</p>

<p>Iâ€™m willing to you know have a hundred dollars on the line or Iâ€™m willing to have my identity disclosed if I am shown to use that irresponsibly and that protocol can hook back to the blockchain as a basis for that trust but most of everything thatâ€™s happening is all out on the edge.</p>

<p>you can see some of the other ones, you know, â€œmy child is lost at Disneyland,â€ or â€œIâ€™m desperate to get on this plane as somebody in this line willing to send me to sell me their plane ticket 4000 euros?â€</p>

<p>any of these kinds of things could be done with this kind of protocol, and you would just need peer-to-peer communication in your app. Or you could have the app go back to the cloud and talk to other apps through the cloud, if you needed to.</p>

<p>that would be more centralized but anyway thereâ€™s some roles in this a speaker a listener and a relay so you could have an app and a person could talk through your app to another phone that was close to you and so the word would spread right if anybodyâ€™s interested thereâ€™s a link to the concept doc when you download the slides you can go read more about that protocol</p>

<h2 id="call-to-action">Call to Action</h2>

<p><img src="https://i.imgur.com/xLHfZ7b.png" /></p>

<p>I hope that I havenâ€™t gone too too deep, Iâ€™ve tried to stay really high-level and I hope that Iâ€™ve been general enough that even if youâ€™re not in the Indy space, the identity space, youâ€™re thinking a little bit to yourself yeah maybe thereâ€™s some ways that Iâ€™m taking for granted</p>

<p>that we need to use the blockchain for somethingâ€¦ and maybe I should think from the other direction instead start thinking about the problem as an edge protocol problem and then say how do I sprinkle the the magic pixie dust a blockchain just enough to get the properties of trust or the constraints that I need</p>

<p>what Iâ€™ve found is that this is a very liberating experience. Two and a half years in, a lot of the problems that I initially thought were really yucky, Iâ€™m now thinking, â€œwell if I flip it on its head I can get what I need to and I
donâ€™t have the performance problem or I donâ€™t have the scaling problem or I donâ€™t have the centralization and trust problem or the regulatory problem.</p>

<p>So I want to encourage you to do that. Think in terms of the edge, with a blockchain as a useful foundation that you can refer to but not necessarily as the place where it all happens. You donâ€™t have to compute everything in a smart contract.</p>

<p>there are some problems that you must use blockchain for but Iâ€™m just saying use it wisely, and not just peanut butter spread it on everything.</p>

<p>I would love to get some people here to work with me on this peer did method I think itâ€™s a very high value for the identity space thatâ€™s one specific to my area of expertise so with that Iâ€™ll go back and demo something if you want or we can go into QA I think we got about ten minutes
left which is good</p>

<h2 id="qa">Q&amp;A</h2>

<p><img src="https://i.imgur.com/HNmcUfN.png" /></p>

<p>I was trying hard to not go till the very last second well it doesnâ€™t necessarily have to be a person but some entity on the edge yeah and Iâ€™m really using the term edge of course is really vague but what I mean by it mostly is itâ€™s not the thing in the center of the architecture diagram okay and then the second question the concept of the micro ledger is there any concept of persisting the final values of the micro ledger onto a blockchain yeah so this is if I go back to letâ€™s see the notion of anchoring something on a blockchain a number of people in industry are exploring different ways to do that and one of the things you could anchor on a blockchain is a micro ledger so if you needed to prove for example to a third party letâ€™s say Alice and Bob are interacting and itâ€™s itâ€™s a private personal relationship but letâ€™s say Bob doesnâ€™t fully trust Alice and maybe heâ€™s afraid that alice is gonna steal all of his cool music for his next album even because heâ€™s been sharing it with her so
he goes and he anchors some things on
the blockchain to provide evidence so
that if anybody ever you know if thereâ€™s
ever an argument thereâ€™s a third party
thatâ€™s a witness that kind of a thing
and thereâ€™s other kinds of use cases
like that too
hi so obviously itâ€™s a communication
protocol so Iâ€™m wondering if there was
any thoughts about communication
recording or if it could be useful in
any way I know there have been papers
for TLS communication recording but
obviously itâ€™s not easy to do at this
point with TLS and HTTPS so is there any
ideas about communication recording
between the agents or da DS and how it
could be possibly useful so thatâ€™s an
interesting question I used to work at
Blue Coat which makes a line of products
actually blue coats been acquired by
Symantec so if you look this up now
online youâ€™re gonna have to look under
Symantec but anyway blue coat makes a
made a product called an SSL visibility
appliance and what it is is a
deliberately constructed
man-in-the-middle attack on a TLS
session so an enterprise does some fancy
magic with certificates to make it so
that when you inside the enterprise talk
to somebody outside the enterprise that
appliance catches the traffic and it man
in the Middleâ€™s both of you neither side
can tell that thereâ€™s this thing in the
middle and the whole point of it is make
the TLS channel visible so that the
enterprise can look for malware thatâ€™s
coming into the environment and stuff
like that so where Iâ€™m going with this
is that same kind of technique could be
used in agent to agent communication
however you would have to get the
consent of both ends of the conversation
you donâ€™t have the ability like you do
in an enterprise to simply say well
every browser in our enterprise is going
to accept this certificate authority
therefore nobodyâ€™s going to get any
warnings when they click and and stuff
like that so self sovereign identity
technologies provide a protection
against that kind of sniffing happening
invisibly but it could be done and the
old the other thing I was going to say
is thereâ€™s also a hype
a proposal about message tracing this is
cooperative voluntary message tracing
where people are trying to troubleshoot
a complex interaction and they say hey
please tell me when you get this message
and forward it on so that I can see
whatâ€™s happening parties donâ€™t have to
follow it and but itâ€™s somewhat related
to recording so I I guess I can only
think of two those two comments about
the recording concept maybe we can talk
some more after Danny I actually have a
follow-up question and what what
happened here so Iâ€™m sure youâ€™re
familiar with signal in signal low using
a double ratchet itâ€™s right in Triple D
filmin and they create that end-to-end
encryption so how does this really
different when it comes to peer-to-peer
and then just creating that encryption
because you just mentioned that if
youâ€™re going to man in the middle attack
Iâ€™m quite familiar with what Bluecoat
does I work at Symantec as well so you
have access to the private key you are
able to record a session and then youâ€™re
able to replay it
so basically acting as a proxy so how
does this does not apply in this
scenario because if Iâ€™m able to actually
sit in between letâ€™s say I hold the
network and then I compromise one of the
parties then this is basically just a
broken channel well first of all indie
communication thereâ€™s a this has not
been implemented but the hype has been
accepted is adopting signals double
ratchet algorithm so forward secrecy and
so forth is a property of the
communication channel the same way it
would be with signal the did method spec
that I talked about here one of the key
characteristics that it has is that when
you created did you must create it by
deriving it from the public key of a key
pair that exists and the reason that
that requirement exists is because you
donâ€™t want if you had it if you did well
let me take you down a different path if
if you started a D ID as just like letâ€™s
say some UUID and then later you
associated it with keys what could
happen is you could start it and a
person whoâ€™s proactive and malicious
could notice what your D ID is
but you havenâ€™t asserted keys and jump
in and create the kind of man in a
middle situation that weâ€™re really
worried about here but because DIDS
require you to derive the thing from the
key the the did value from the key there
is no point in time where the creator of
the did is vulnerable to the man in the
middle attack thatâ€™s only a partial
answer to your question letâ€™s talk about
it after yeah I had yet another
follow-up on this thread so the ietf has
a existing internet standard called the
host identity protocol and it does
exactly the same thing the intention
there is because right now in networks
thereâ€™s the IP address is the identity
but this is not verifiable so they made
this protocol with the intention that it
existed to be compatible with the
Internetâ€™s tcp/ip stack so there is no
tie to and etherion network or a hyper
ledger implementation itâ€™s just part of
the general Internet can you give me
some context as to why this is existing
separate from that and we donâ€™t just use
the host identity protocol existing on
the internet already so thatâ€™s a great
question thereâ€™s several different
answers that are all kind of related
that kind of add up the first thing is
that this communication mechanism has to
work on things besides the Internet
so not everything has IP addresses and
still we have to be able to communicate
we certainly live in a highly IP centric
world but thereâ€™s plenty of use cases
that are outside that the second thing
is that like with certificates my
understanding of the host identity
technology is that it focuses on servers
now of course it could be used for
clients and stuff too but TLS in general
even though it has
the option of identifying both parties
is almost a hundred percent used to
identify only the server side of an
interaction so when you want to identify
the client side what do you do you have
this great channel but you donâ€™t use
certificates you have an entirely
different mechanism which is
browser-based sessions and cookies and
all this other stuff to identify the
other party you log in you present some
credentials and I think the same kind of
phenomenon maybe is undermining some of
the value of that protocol where itâ€™s
itâ€™s going to be applied whether the
protocol is written that way or not itâ€™s
going to be applied just to identify
things that have a permanent presence
does it does it work for mobile phones
that are changing IP addresses
constantly and that are refreshing their
software and all that other stuff I
donâ€™t know enough to know maybe we can
can you share a link with me or
something and Iâ€™ll go learn some more
about it
state channels are on my list of weâ€™re
right here
well state channels yeah the state
channels are an example of this kind of
thinking yeah I have one question
concerning the etch chain protocols as I
understood you you suggest we make small
protocols and different apps but what
when I want to glue them together
because they together build higher-level
protocols would I then try to make the
glue in the blockchain so things that
those protocols need store it there or
would I define letâ€™s say super H J chain
protocol
well yeah protocols are one of those
things that can be understood at thereâ€™s
thereâ€™s lower level ones and higher
level ones just like thereâ€™s the OSI
stack and so forth in networking and you
can combine logical entities into bigger
constructs to make higher-level
protocols something that you said kind
of gets at this slide that I skipped
over one of the things thatâ€™s different
between DAPs and edge chain protocols is
that edge chain protocols there thereâ€™s
no set of apps that you have to have you
just need to have software that is
capable of playing all of the roles in
your protocol and it could be written by
ten different people and there could be
ten different providers of one of the
roles if you wanted right so think about
like buying a house we donâ€™t have only
one place that you go to get all the the
actors in the buy a house protocol and
yet DAPs are typically written where you
write a DAP that implements the whole
thing and so thatâ€™s a little bit of a
paradigm shift
yeah yeah yeah
theirs doesnâ€™t have to be implemented on
server so itâ€™s not exactly micro
services but itâ€™s like that in the sense
that itâ€™s a bunch of little granular
things hi thanks this was really
interesting I was going to offer a bit
of nitpicking for the megaphone protocol
I think if you donâ€™t take in
consideration economic pressure
I think the protocol probably fall apart
because some people will be in such
situations that theyâ€™ll be willing to
trade what they consider their important
identity to spam people nearby and
thereâ€™ll be markets that will probably
show up saying hey if you can if you do
this for us weâ€™ll give you some money
and people might burn through their
identity because they donâ€™t see the
value of it or maybe they will try and
stack up multiple identities as much as
they can
obviously we we would expect this the
product or the system the overall
underlying self sovereign identity
system not to allow that but I think if
you donâ€™t count factor in economic
pressures especially for those of us who
are very poor like you wonâ€™t be able to
expect some of the ways that the
protocol will be manipulated
thatâ€™s good comment the the concept
document includes the notion that
megaphones have a volume and you can
select the volume if you say look Iâ€™m
tired and hungry and Iâ€™m a mom in an
airport and I have a baby and I need to
change the babyâ€™s diaper and I forgot a
diaper thatâ€™s not a life-threatening
crisis so you donâ€™t need
life-threatening volume and so thereâ€™s
probably different staking for different
levels of volume but I think thereâ€™s
still youâ€™re right that thereâ€™s
potential for abuse which is maybe one
of the reasons that nobodyâ€™s been
working on it yet
okay well I think we should declare the
the session over and Iâ€™ll be up here if
anybody wants to ask more questions a
couple of you asked me questions that I
want to get some more information about
if you just come and talk to me thatâ€™d
be great and thanks for your attention I
appreciate it</p>

:ET